# Cubox Saver PopClip 插件安装和使用指南

## 🎯 插件简介

Cubox Saver 是一个专为 PopClip 设计的插件，让你能够一键将选中的文本快速保存到 Cubox 收藏工具中。

## 📋 系统要求

- macOS 系统
- PopClip 应用（版本 4155 或更高）
- Cubox 账户（需要高级版本获得 API 访问权限）

## 🚀 安装步骤

### 1. 安装插件
1. 双击 `Cubox Saver.popclipext` 文件
2. 如果出现未签名扩展警告，点击"安装"继续
3. PopClip 会自动安装插件并添加到操作栏

### 2. 获取 Cubox API URL

**选择正确的 Cubox 网站**：
- 新版本：[https://cubox.pro](https://cubox.pro) （推荐）
- 旧版本：[https://cubox.cc](https://cubox.cc)

**获取步骤**：
1. 访问对应的 Cubox 网页版并登录
2. 进入 **设置** > **扩展与自动化** > **API 扩展**
3. 点击**启用 API** 按钮
4. 复制生成的完整 API 链接

**正确的 API URL 格式**：
```
✅ https://cubox.pro/c/api/save_url?token=YOUR_TOKEN
✅ https://cubox.cc/c/api/save_url?token=YOUR_TOKEN
```

**错误的格式示例**：
```
❌ https://cubox.cc/c/api/v1/...  (路径错误)
❌ https://cubox.pro/api/...      (路径不完整)
```

⚠️ **重要提醒**：
- API 链接是你身份的唯一凭证，请妥善保管，不要泄露给他人
- 确保复制完整的 URL，包括 token 参数
- v5.1 版本支持 cubox.pro 和 cubox.cc 两个域名

### 3. 配置插件
1. 打开 PopClip 主界面
2. 找到 "Cubox Saver" 插件，点击设置图标 ⚙️
3. 在**必需配置**中：
   - **Cubox API URL**：粘贴从 Cubox 获取的 API 链接
4. 在**可选配置**中：
   - **Default Folder**：指定默认保存文件夹（留空则保存到收件箱）
   - **Default Tag**：设置默认标签（默认为 "PopClip"）

## 📖 使用方法

### 基本使用
1. 在任意应用中选中你想要保存的文本
2. PopClip 会自动弹出操作栏
3. 点击 "Save to Cubox" 按钮（📋 图标）
4. 插件会显示保存进度和结果

### 支持的文本类型
- 网页文本
- 文档内容
- 代码片段
- 笔记内容
- 任何可选中的文本

### 自动功能
- **自动标题生成**：取文本的第一句话或前50个字符作为标题
- **时间戳**：自动添加保存时间
- **标签分类**：使用你设置的默认标签进行分类

## 🔧 高级设置

### 文件夹组织
- 在 "Default Folder" 中输入文件夹名称
- 如果文件夹不存在，Cubox 会自动创建
- 留空则保存到默认收件箱

### 标签管理
- 支持自定义默认标签
- 标签有助于后续检索和分类
- 建议使用有意义的标签名称

## ⚠️ 故障排除

### 常见错误信息及解决方案

| 错误信息 | 原因 | 解决方案 |
|---------|------|---------|
| "Please set your Cubox API URL" | 未配置 API URL | 在插件设置中填入 Cubox API 链接 |
| "Invalid Cubox API URL format" | API URL 格式错误 | 确保 URL 包含 "cubox.cc" 和 "/api/" |
| "No text selected" | 没有选中文本 | 先选中一些文本再使用插件 |
| "Invalid API URL or access denied" | API 权限问题 | 检查 API URL 是否正确，或重新生成 |
| "API rate limit exceeded" | 超出调用限制 | 等待一段时间后重试（每日500次限制）|
| "Network error" | 网络连接问题 | 检查网络连接是否正常 |

### 调试步骤
1. **检查网络**：确保能正常访问 cubox.cc
2. **验证 API**：重新获取 API URL
3. **重启 PopClip**：尝试重启 PopClip 应用
4. **查看控制台**：打开"控制台"应用查看详细错误信息

## 🔒 隐私和安全

- 插件仅在本地处理文本，不会上传到第三方服务器
- 所有数据直接发送到你的 Cubox 账户
- API URL 存储在本地，不会被传输到其他地方
- 建议定期更换 API URL 以确保安全

## 📊 使用限制

- **API 调用限制**：Cubox 高级用户每日可进行 500 次 API 调用
- **文本长度**：理论上无限制，但建议单次保存不超过 10,000 字符
- **网络要求**：需要稳定的网络连接

## 🔄 更新和维护

### 插件更新
- 插件更新时，重新下载并双击安装即可
- 配置信息会自动保留

### 配置备份
建议记录你的配置信息：
- API URL（保密）
- 默认文件夹名称
- 默认标签设置

## 💡 使用技巧

1. **快速保存**：设置常用的默认文件夹和标签，提高保存效率
2. **批量操作**：可以连续选择不同文本进行保存
3. **键盘快捷键**：在 PopClip 设置中为插件分配快捷键
4. **文本预处理**：保存前可以适当编辑选中的文本

## 📞 支持和反馈

如果遇到问题或有改进建议，可以：
1. 检查本文档的故障排除部分
2. 查看 PopClip 和 Cubox 的官方文档
3. 重新安装插件尝试解决问题

---

**享受高效的文本收藏体验！** 🎉