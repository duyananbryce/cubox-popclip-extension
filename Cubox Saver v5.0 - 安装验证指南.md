# Cubox Saver v5.0 - 安装验证指南

## 🚀 快速安装

### 1. 安装步骤
1. **下载插件**：获取 `Cubox Saver.popclipext` 文件
2. **双击安装**：直接双击 `.popclipext` 文件
3. **确认安装**：在 PopClip 中确认安装
4. **配置设置**：设置 API URL、默认文件夹和标签

### 2. 版本验证
安装后请确认版本信息：
- **插件名称**：Cubox Saver v5.0
- **版本标识**：cc.cubox.popclip.saver.v5.0
- **实现方式**：官方标准版本

## ⚙️ 配置说明

### API 设置
```
API URL: https://cubox.pro/c/api/save_url
默认文件夹: 收藏夹
默认标签: PopClip
```

### 获取 API URL
1. 登录 [Cubox 网页版](https://cubox.pro)
2. 进入设置 → API
3. 复制 "保存链接" API URL
4. 粘贴到插件配置中

## 🧪 功能测试

### 基本测试
1. **选择文本**：在任意应用中选择一段文本
2. **调用插件**：点击 PopClip 中的 "Save to Cubox" 按钮
3. **验证结果**：检查是否成功保存到 Cubox

### 测试用例

#### 测试 1：纯文本保存
```
选择文本："这是一段测试文本"
预期结果：文本成功保存到 Cubox 默认文件夹
```

#### 测试 2：URL 链接保存
```
选择文本："https://www.example.com"
预期结果：链接成功保存并自动获取页面信息
```

#### 测试 3：混合内容保存
```
选择文本："查看这个链接：https://www.example.com 很有用"
预期结果：整段内容成功保存
```

## 🔍 故障排除

### 常见问题

#### 问题 1："Can't find variable" 错误
**解决方案**：v5.0 已彻底解决此问题
- 如果仍出现，请确认安装的是 v5.0 版本
- 卸载旧版本后重新安装

#### 问题 2：API 调用失败
**检查项目**：
- ✅ API URL 是否正确
- ✅ 网络连接是否正常
- ✅ Cubox 账户是否有效

#### 问题 3：保存失败
**排查步骤**：
1. 检查选择的文本是否为空
2. 验证 API 配置是否正确
3. 查看 PopClip 日志获取详细错误信息

### 日志查看
```bash
# 查看 PopClip 日志
# 在 PopClip 偏好设置中启用日志记录
# 执行操作后查看日志输出
```

## 📋 版本历史对比

| 版本 | 状态 | 主要问题 | 解决方案 |
|------|------|----------|----------|
| v4.1 | 已废弃 | 基础兼容性问题 | 双重兼容设计 |
| v4.2 | 已废弃 | "Can't find variable" | 四重兼容尝试 |
| v4.3 | 已废弃 | 函数定义冲突 | 添加函数定义 |
| v4.4 | 已废弃 | 变量覆盖问题 | 移除冲突声明 |
| **v5.0** | **推荐** | **根本性重写** | **官方标准实现** |

## 🎯 v5.0 技术优势

### 标准实现
- ✅ 遵循 PopClip 官方文档
- ✅ 顶层执行模式
- ✅ 标准 API 调用
- ✅ 简洁代码结构

### 稳定性保证
- ✅ 彻底解决所有已知错误
- ✅ 基于官方规范实现
- ✅ 未来版本兼容性
- ✅ 维护成本最低

## 📞 技术支持

如果遇到问题，请提供以下信息：
1. **PopClip 版本**
2. **macOS 版本**
3. **错误日志**（如有）
4. **具体操作步骤**
5. **选择的文本内容**

---

**推荐使用 v5.0 版本，这是基于官方文档的标准实现，提供最佳的稳定性和兼容性。**